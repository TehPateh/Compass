<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compass® - Local Shoes with Unique Designs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --white: #ffffff;
            --light-gray: #dfdfdf;
            --medium-gray: #7e7d7d;
            --dark-gray: #888888;
            --black: #222222;
            --navy: #000000;
            --accent: #000000;
            --light-accent: #000000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--black);
            background-color: var(--white);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background-color: var(--white);
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background-color: var(--navy);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 22px;
            font-weight: 700;
        }

        .brand-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--black);
        }

        .search-container {
            flex-grow: 1;
            max-width: 400px;
            margin: 0 30px;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 12px 20px;
            padding-left: 45px;
            border: 1px solid var(--medium-gray);
            border-radius: 30px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            background-color: var(--light-gray);
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent);
            background-color: var(--white);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--dark-gray);
        }

        nav {
            display: flex;
            gap: 25px;
        }

        .nav-link {
            text-decoration: none;
            color: var(--black);
            font-weight: 500;
            font-size: 15px;
            position: relative;
            padding: 5px 0;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: var(--accent);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--black);
            cursor: pointer;
        }

        /* Hero Section */
        .hero {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--light-gray) 0%, var(--white) 100%);
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: var(--black);
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 40px;
            color: var(--dark-gray);
        }

        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            display: inline-block;
            cursor: pointer;
            border: none;
            font-family: 'Poppins', sans-serif;
        }

        .btn-primary {
            background-color: var(--navy);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--navy);
            border: 2px solid var(--navy);
        }

        .btn-secondary:hover {
            background-color: var(--navy);
            color: var(--white);
            transform: translateY(-3px);
        }

        /* Product Description */
        .product-description {
            padding: 100px 0;
            background-color: var(--white);
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 60px;
            color: var(--black);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--accent);
        }

        .description-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .description-text h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--navy);
        }

        .description-text p {
            margin-bottom: 20px;
            color: var(--dark-gray);
            font-size: 1.1rem;
        }

        .highlight {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .highlight-icon {
            width: 24px;
            height: 24px;
            background-color: var(--light-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--white);
            font-size: 12px;
        }

        .description-image {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .description-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s ease;
        }

        .description-image:hover img {
            transform: scale(1.05);
        }

        /* Product Gallery */
        .product-gallery {
            padding: 100px 0;
            background-color: var(--light-gray);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .gallery-item {
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            background-color: var(--white);
        }

        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 30px rgba(0, 0, 0, 0.1);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }

        .gallery-caption {
            padding: 20px;
            text-align: center;
        }

        .gallery-caption h4 {
            font-size: 1.3rem;
            margin-bottom: 5px;
            color: var(--black);
        }

        .gallery-caption p {
            color: var(--dark-gray);
            font-size: 0.9rem;
        }

        /* Testimonials */
        .testimonials {
            padding: 100px 0;
            background-color: var(--white);
        }

        .testimonial-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .testimonial-card {
            background-color: var(--light-gray);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .testimonial-card:hover {
            transform: translateY(-5px);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .testimonial-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
            border: 3px solid var(--medium-gray);
        }

        .testimonial-info h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .testimonial-info p {
            color: var(--dark-gray);
            font-size: 0.9rem;
        }

        .testimonial-text {
            font-style: italic;
            color: var(--black);
        }

        .rating {
            color: #ffc107;
            margin-top: 10px;
        }

        /* Newsletter */
        .newsletter {
            padding: 80px 0;
            background-color: var(--navy);
            color: var(--white);
            text-align: center;
        }

        .newsletter h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        .newsletter p {
            max-width: 600px;
            margin: 0 auto 40px;
            color: rgba(255, 255, 255, 0.8);
        }

        .newsletter-form {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            gap: 10px;
        }

        .newsletter-input {
            flex-grow: 1;
            padding: 15px 20px;
            border-radius: 30px;
            border: none;
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
        }

        .newsletter-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--light-accent);
        }

        .btn-newsletter {
            background-color: var(--accent);
            color: var(--white);
            padding: 15px 30px;
        }

        .btn-newsletter:hover {
            background-color: var(--light-accent);
        }

        /* Footer */
        footer {
            background-color: var(--black);
            color: var(--white);
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--white);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--white);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background-color: var(--accent);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        /* Live Chat */
        .live-chat {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .chat-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--navy);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .chat-btn:hover {
            background-color: var(--accent);
            transform: scale(1.1);
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .description-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .description-image {
                order: -1;
            }

            .hero h1 {
                font-size: 2.8rem;
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-wrap: wrap;
            }

            .search-container {
                order: 3;
                flex-basis: 100%;
                max-width: 100%;
                margin: 20px 0 0;
            }

            nav {
                display: none;
                width: 100%;
                flex-direction: column;
                gap: 15px;
                margin-top: 20px;
                padding-top: 20px;
                border-top: 1px solid var(--medium-gray);
            }

            nav.active {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 2.2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }

            .section-title {
                font-size: 2rem;
            }

            .newsletter-form {
                flex-direction: column;
            }

            .newsletter-input,
            .btn-newsletter {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 60px 0;
            }

            .product-description,
            .product-gallery,
            .testimonials {
                padding: 60px 0;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .section-title {
                font-size: 1.6rem;
            }

            .description-text h3 {
                font-size: 1.5rem;
            }

            .live-chat {
                bottom: 20px;
                right: 20px;
            }

            .chat-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
        }

        .login-btn {
            background-color: var(--black);
            color: var(--white);
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 10px;
        }

        .login-btn:hover {
            background-color: var(--accent);
            transform: translateY(-2px);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background-color: var(--white);
            padding: 40px;
            border-radius: 15px;
            width: 100%;
            max-width: 400px;
            position: relative;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark-gray);
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--accent);
        }

        .modal-title {
            font-size: 24px;
            margin-bottom: 30px;
            color: var(--black);
        }

        .login-option {
            margin-bottom: 20px;
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 20px 0;
            color: var(--dark-gray);
            font-size: 14px;
        }

        .divider::before,
        .divider::after {
            content: "";
            flex: 1;
            border-bottom: 1px solid var(--light-gray);
        }

        .divider::before {
            margin-right: 10px;
        }

        .divider::after {
            margin-left: 10px;
        }

        .form-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            color: var(--medium-gray);
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--medium-gray);
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--black);
        }

        .btn-full {
            width: 100%;
            margin-top: 10px;
        }

        .user-info {
            display: none;
            align-items: center;
            gap: 10px;
            margin-left: 10px;
        }

        .user-avatar {
            width: 35px;
            height: 35px;
            background-color: var(--navy);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .login-btn span {
                display: none;
            }

            .login-btn {
                padding: 10px;
                border-radius: 50%;
            }
        }

        /* Modern Messenger-style Chat UI */
        .chat-modal-content {
            width: 1000px !important;
            max-width: 95vw !important;
            height: 85vh !important;
            padding: 0 !important;
            overflow: hidden;
            display: flex;
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 40px rgba(0, 0, 0, 0.2);
            flex-direction: row !important;
            /* Ensure row direction */
            text-align: left !important;
            /* Reset text align */
        }

        /* Sidebar (Contact List) */
        .chat-sidebar {
            width: 320px;
            background: #fff;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            /* Prevent shrinking */
        }

        .sidebar-header {
            padding: 15px 20px;
            background: #f0f2f5;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            box-sizing: border-box;
            /* Fix height calculations */
        }

        .sidebar-header h3 {
            font-size: 1.2rem;
            margin: 0;
            color: var(--black);
        }

        .user-list {
            flex: 1;
            overflow-y: auto;
        }

        .user-list-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid #f0f0f0;
            position: relative;
        }

        .user-list-item:hover,
        .user-list-item.active {
            background-color: #f5f6f6;
        }

        .user-avatar-small {
            width: 45px;
            height: 45px;
            background: #dfe3ee;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #555;
            margin-right: 15px;
            font-size: 18px;
            flex-shrink: 0;
        }

        .user-item-info {
            flex: 1;
            overflow: hidden;
        }

        .user-item-info h4 {
            font-size: 15px;
            margin: 0 0 5px;
            color: #050505;
        }

        .user-item-info p {
            font-size: 13px;
            color: #65676b;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .badge-count {
            background-color: #2e89ff;
            color: white;
            border-radius: 50%;
            min-width: 20px;
            height: 20px;
            padding: 0 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
        }

        /* Main Chat Area */
        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: #fff;
            position: relative;
        }

        .chat-header {
            padding: 10px 20px;
            background-color: #fff;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            z-index: 10;
            box-sizing: border-box;
        }

        .header-user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-avatar {
            width: 40px;
            height: 40px;
            background: var(--navy);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .header-title-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .header-title-text h3 {
            margin: 0;
            font-size: 16px;
            color: var(--black);
        }

        .header-title-text span {
            font-size: 12px;
            color: #31a24c;
            /* Active status color */
        }

        .chat-body-container {
            flex: 1;
            background-color: #efeae2;
            background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png');
            /* Subtle pattern */
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .message {
            max-width: 65%;
            padding: 8px 12px;
            border-radius: 7.5px;
            font-size: 14.2px;
            line-height: 19px;
            position: relative;
            word-wrap: break-word;
            box-shadow: 0 1px 0.5px rgba(0, 0, 0, 0.13);
            margin-bottom: 2px;
        }

        .message.sent {
            background-color: #d9fdd3;
            color: #111b21;
            align-self: flex-end;
            border-top-right-radius: 0;
        }

        .message.received {
            background-color: #fff;
            color: #111b21;
            align-self: flex-start;
            border-top-left-radius: 0;
        }

        .message-time {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            font-size: 11px;
            margin-top: 2px;
            color: rgba(0, 0, 0, 0.45);
            gap: 3px;
        }

        .read-status {
            display: inline-flex;
            align-items: center;
        }

        .chat-input-area {
            padding: 10px 15px;
            background: #f0f2f5;
            display: flex;
            align-items: center;
            gap: 10px;
            min-height: 60px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            outline: none;
            background-color: #fff;
            font-family: inherit;
            font-size: 15px;
        }

        .send-btn {
            background-color: transparent;
            color: #54656f;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: background 0.2s;
        }

        .send-btn.active {
            color: var(--navy);
        }

        .send-btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        @media (max-width: 768px) {
            .chat-modal-content {
                width: 100%;
                height: 100%;
                border-radius: 0;
            }

            .chat-sidebar {
                display: none;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <!-- Header dengan Logo, Search, dan Navigation -->
    <header>
        <div class="container header-container">
            <div class="logo-container">
                <div class="brand-name">Compass®</div>
            </div>

            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-box" placeholder="Search for shoes or collections..">
            </div>

            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>

            <nav id="mainNav">
                <a href="#home" class="nav-link">Home</a>
                <a href="#gallery" class="nav-link">Collection</a>
                <a href="#about" class="nav-link">About Compass®</a>
                <a href="#testimonials" class="nav-link">Testimonial</a>
                <a href="#contact" class="nav-link">Contact Us</a>
                <a href="#" class="nav-link" id="navLoginBtn">Login</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h1>Where Passion, Stories, and Craftmanship Collide</h1>
            <p>Compass® was founded in 1998 in Bandung, Indonesia by Kahar Gunawan. Driven by a desire to continue his
                father's legacy, who founded a shoe manufacturing company in 1984, Kahar sought to build not just
                another factory. He aspired to create a footwear brand that excels in design and quality, while
                instilling a sense of pride in those who wear it.

                Decades later, we remain steadfast on the same unwavering path : our vision is to be the north star for
                creativity, craftsmanship, and storytelling, inspiring the next generation to forge their own paths with
                authenticity and purpose.

                It is our mission is to champion the arts by supporting all forms of artistic endeavours, providing a
                platform for creators and visionaries to share their distinct voice and stories.</p>
            <div class="hero-buttons">
                <a href="#gallery" class="btn btn-primary">View Full Collection</a>
                <a href="#about" class="btn btn-secondary">Learn About Our Design</a>
            </div>
        </div>
    </section>

    <!-- Product Description -->
    <section class="product-description" id="about">
        <div class="container">
            <h2 class="section-title">Why Compass Shoes??</h2>
            <div class="description-content">
                <div class="description-text">
                    <h3>Unique Designs that Highlight Local Identity</h3>
                    <p>Compass shoes come with designs inspired by the rich culture of Indonesia. Every detail reflects
                        the spirit of young people who are creative, dynamic, and proud of local products.</p>

                    <div class="highlight">
                        <div class="highlight-icon"><i class="fas fa-star"></i></div>
                        <div>
                            <h4>Premium Materials</h4>
                            <p>Using high-quality materials that are durable and comfortable for all-day use.</p>
                        </div>
                    </div>

                    <div class="highlight">
                        <div class="highlight-icon"><i class="fas fa-heart"></i></div>
                        <div>
                            <h4>Ergonomic Design</h4>
                            <p>Specially designed for the shape of Indonesian feet, providing optimal comfort.</p>
                        </div>
                    </div>

                    <div class="highlight">
                        <div class="highlight-icon"><i class="fas fa-palette"></i></div>
                        <div>
                            <h4>Distinctive Colors and Motifs</h4>
                            <p>A modern color combination with a touch of simplified traditional Indonesian motifs.</p>
                        </div>
                    </div>

                    <a href="#contact" class="btn btn-primary" style="margin-top: 20px;">Join the Compass Community</a>
                </div>

                <div class="description-image">
                    <img
                        src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/Our_Story_Gazelle.jpg?v=1724307988">
                </div>
            </div>
        </div>
    </section>

    <!-- Product Gallery -->
    <section class="product-gallery" id="gallery">
        <div class="container">
            <h2 class="section-title">Popular Collection</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img
                        src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/218bb79a-b8df-49ee-898f-87e70c9bb5e9.jpg?v=1723190955&width=800&height=800&crop=center">
                    <div class="gallery-caption">
                        <h4>Gazelle Low Series</h4>
                        <p>The original Compass® silhouette that started it all in 1998, reimagined to blend vintage
                            charm with modern details. The Gazelle Low is your go-to everyday footwear, featuring a
                            low-cut design that exudes effortless style and versatility for any occasion or look.</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/GazelleHiCream4.jpg?v=1723467137&width=800&height=800&crop=center"
                        alt="Compass Urban Edition">
                    <div class="gallery-caption">
                        <h4>Gazelle High Series</h4>
                        <p>Drawing inspiration from the 1950s, the Gazelle Hi takes an iconic silhouette and infuses it
                            with a distinct Compass® touch. .</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/139738c2-6193-42ca-975b-07ee912b2b89_66244c91-fdcf-4193-ae83-21961dc804c5.jpg?v=1723439378&width=800&height=800&crop=center"
                        alt="Compass Heritage Collection">
                    <div class="gallery-caption">
                        <h4>Velocity Series</h4>
                        <p>Compass® Velocity® combines vintage aesthetics with modern technology, presenting a fusion of
                            past and present. The name Velocity® captures the essence of dynamic speed and progress,
                            aligning with Compass®'s philosophy of empowering individuals to continuously move forward
                            and achieve their fullest potential..</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/a3cbdce6-d7d1-452d-9e07-c3184023a6ef.jpg?v=1723190557&width=800&height=800&crop=center"
                        alt="Compass Limited Edition">
                    <div class="gallery-caption">
                        <h4>Retrograde Low Series</h4>
                        <p>The Retrograde collection honors the rich heritage of Compass®, drawing inspiration from the
                            archives of its predecessor, Gazelle®. With its timeless design, the Retrograde Low is
                            designed to accompany you through life's milestones, becoming an essential part of your
                            everyday style..</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/d3467073-bb7d-496c-810b-754aed44d7b0.jpg?v=1723450913&width=800&height=800&crop=center"
                        alt="Compass Limited Edition">
                    <div class="gallery-caption">
                        <h4>Retrograde High Series</h4>
                        <p>The Retrograde collection honors the rich heritage of Compass®, drawing inspiration from the
                            archives of its predecessor, Gazelle®. Every element in the Retrograde line is crafted with
                            purpose, designed to evoke a sense of pride and connection to its storied past..</p>
                    </div>
                </div>

                <div class="gallery-item">
                    <img src="https://cdn.shopify.com/s/files/1/0712/0397/9503/files/Tribune-BlackGum2.jpg?v=1729075858&width=800&height=800&crop=center"
                        alt="Compass Limited Edition">
                    <div class="gallery-caption">
                        <h4>Tribune Series</h4>
                        <p>The Compass® Tribune draws inspiration from 'terrace culture'— a subculture that began in the
                            football stadiums of the UK and has since evolved into a bold, irreverent style and
                            attitude. This new silhouette captures the fiery passion and strong sense of identity that
                            define sport supporters, making it a tribute to their spirit..</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials" id="testimonials">
        <div class="container">
            <h2 class="section-title">What People Who Have Used It Say</h2>
            <div class="testimonial-container">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <img src="https://i.pinimg.com/736x/67/8d/00/678d00c9cf12969e12de5f10c529aac7.jpg"
                            alt="Customer" class="testimonial-avatar">
                        <div class="testimonial-info">
                            <h4>Fatih Hidayah</h4>
                            <p>University student, 18 years old</p>
                        </div>
                    </div>
                    <p class="testimonial-text">"I really love these Compass shoes. They give Gen Z the perfect
                        silhouette, making them look super cool!"</p>
                    <div class="rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <img src="https://i.pinimg.com/736x/67/8d/00/678d00c9cf12969e12de5f10c529aac7.jpg"
                            alt="Customer" class="testimonial-avatar">
                        <div class="testimonial-info">
                            <h4>Fauzaan Aqila</h4>
                            <p>University student, 22 years old</p>
                        </div>
                    </div>
                    <p class="testimonial-text">"Compass shoes are a local brand that I think has character, appeal, and
                        a taste that sets it apart from other local brands."</p>
                    <div class="rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star">

                        </i>
                    </div>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <img src="https://i.pinimg.com/736x/ed/7e/28/ed7e2842a6004eb521c4f1079f2e484e.jpg"
                            alt="Customer" class="testimonial-avatar">
                        <div class="testimonial-info">
                            <h4>Dika Firansyah</h4>
                            <p>University student, 18 tahun</p>
                        </div>
                    </div>
                    <p class="testimonial-text">"These Compass shoes are very comfortable to wear anywhere, whether you
                        want to wear them to college or hang out, they're perfect for any occasion!"</p>
                    <div class="rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter" id="contact">
        <div class="container">
            <h2>Follow the Latest Developments</h2>
            <p>Get info about the latest collections, exclusive discounts, and Compass community events delivered
                straight to your inbox.</p>
            <form class="newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Enter your email address" required>
                <button type="submit" class="btn btn-newsletter">Subscription</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Compass®</h3>
                    <p>Local shoes with distinctive Indonesian designs for a dynamic and creative young generation.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Menu</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#gallery">Collection</a></li>
                        <li><a href="#about">About Compass®</a></li>
                        <li><a href="#testimonials">Testimonial</a></li>
                        <li><a href="#contact">Contact Us</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Collection</h3>
                    <ul class="footer-links">
                        <li><a href="#">Gazelle Low Series</a></li>
                        <li><a href="#">Gazelle High Series</a></li>
                        <li><a href="#">Velocity Series</a></li>
                        <li><a href="#">Retrograde Low Series</a></li>
                        <li><a href="#">Retrograde High Series</a></li>
                        <li><a href="#">Tribune Series</a></li>
                        <li><a href="#">All Products</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> Jakarta, Indonesia</li>
                        <li><i class="fas fa-envelope"></i> hello@compass®.id</li>
                        <li><i class="fas fa-phone"></i> +62 21 1234 5678</li>
                        <li><i class="fas fa-clock"></i> Everyday: 9:00 AM-5:00 PM</li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2023 Compass® All rights reserved. | Proudly made in Indonesia</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 class="modal-title" id="modalTitle">Welcome to Compass®</h2>

            <div class="login-option">
                <button class="btn btn-secondary btn-full" onclick="handleGuestLogin()">
                    Continue as Guest
                </button>
            </div>

            <div class="divider">OR</div>

            <!-- Login Form -->
            <div id="loginFormContainer">
                <form id="adminLoginForm">
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" class="form-input" id="adminUser" placeholder="Username" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" class="form-input" id="adminPass" placeholder="••••••" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Login</button>
                </form>
                <div style="margin-top: 15px; font-size: 14px; color: var(--medium-gray);">
                    Don't have an account? <span onclick="toggleAuthMode('register')"
                        style="color: var(--navy); font-weight: 600; cursor: pointer;">Sign Up</span>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerFormContainer" style="display: none;">
                <form id="registerForm">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-input" id="regEmail" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" class="form-input" id="regUser" placeholder="Username" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" class="form-input" id="regPass" placeholder="Create password" required>
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" class="form-input" id="regConfirmPass" placeholder="Confirm password"
                            required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Create Account</button>
                </form>
                <div style="margin-top: 15px; font-size: 14px; color: var(--medium-gray);">
                    Already have an account? <span onclick="toggleAuthMode('login')"
                        style="color: var(--navy); font-weight: 600; cursor: pointer;">Login</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Interface Modal -->
    <div class="modal" id="chatModal">
        <div class="modal-content chat-modal-content">
            <!-- Sidebar (Left) -->
            <div class="chat-sidebar" id="chatSidebar">
                <div class="sidebar-header">
                    <h3>Chats</h3>
                    <div style="font-size:12px;color:#666;" id="adminStatusText">Admin Mode</div>
                </div>
                <div class="user-list" id="chatUserList">
                    <!-- User list dynamically populated here -->
                </div>
            </div>

            <!-- Main Chat (Right) -->
            <div class="chat-main" id="chatMainArea">
                <div class="chat-header">
                    <div class="header-user-info">
                        <div class="header-avatar" id="chatHeaderAvatar">?</div>
                        <div class="header-title-text">
                            <h3 id="chatHeaderTitle">Select a chat</h3>
                            <span id="chatHeaderStatus">Online</span>
                        </div>
                    </div>
                    <span class="close-modal" id="closeChat" style="color:#54656f; font-size:28px;">&times;</span>
                </div>

                <div class="chat-body-container">
                    <div class="chat-messages" id="chatMessages">
                        <div style="text-align: center; color: #888; margin-top: 50px;" id="emptyState">
                            Select a conversation to start chatting
                        </div>
                    </div>

                    <div class="chat-input-area">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Type a message">
                        <button class="send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Chat Trigger -->
    <div class="live-chat">
        <button class="chat-btn" id="chatBtn">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>

    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');

        mobileMenuBtn.addEventListener('click', function () {
            mainNav.classList.toggle('active');
            mobileMenuBtn.innerHTML = mainNav.classList.contains('active')
                ? '<i class="fas fa-times"></i>'
                : '<i class="fas fa-bars"></i>';
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                const targetId = this.getAttribute('href');
                if (targetId === '#') return;

                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    // Close mobile menu if open
                    if (mainNav.classList.contains('active')) {
                        mainNav.classList.remove('active');
                        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    }

                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Live Chat Element reference
        const chatBtn = document.getElementById('chatBtn');

        // Login functionality
        const navLoginBtn = document.getElementById('navLoginBtn');
        const loginModal = document.getElementById('loginModal');
        const closeModal = document.querySelector('.close-modal');
        const adminForm = document.getElementById('adminLoginForm');
        const registerForm = document.getElementById('registerForm');

        // Simulating a database of users
        const usersDB = {
            'admin': { pass: 'admin123', email: 'admin@compass.com' }
        };

        let isLoggedIn = false;

        // Toggle Modal or Logout
        navLoginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if (isLoggedIn) {
                logout();
            } else {
                // Reset to login view when opening
                toggleAuthMode('login');
                loginModal.classList.add('active');
            }
        });

        // Close Modal
        closeModal.addEventListener('click', () => {
            loginModal.classList.remove('active');
        });

        // Close on click outside
        window.addEventListener('click', (e) => {
            if (e.target == loginModal) {
                loginModal.classList.remove('active');
            }
        });

        // Toggle Auth Mode (Login / Register)
        window.toggleAuthMode = function (mode) {
            const loginContainer = document.getElementById('loginFormContainer');
            const registerContainer = document.getElementById('registerFormContainer');
            const modalTitle = document.getElementById('modalTitle');

            if (mode === 'register') {
                loginContainer.style.display = 'none';
                registerContainer.style.display = 'block';
                modalTitle.textContent = 'Create Account';
            } else {
                loginContainer.style.display = 'block';
                registerContainer.style.display = 'none';
                modalTitle.textContent = 'Welcome to Compass®';
            }
        }

        // Guest Login
        window.handleGuestLogin = function () {
            loginModal.classList.remove('active');
            showUser('Guest');
            alert("Welcome! You are browsing as a Guest.");
        }

        // Login Handler
        adminForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const user = document.getElementById('adminUser').value;
            const pass = document.getElementById('adminPass').value;

            if (usersDB[user] && usersDB[user].pass === pass) {
                loginModal.classList.remove('active');
                showUser(user);
                alert(`Login Successful! Welcome back, ${user}.`);
                adminForm.reset();
            } else {
                alert("Invalid Credentials! (Try: admin / admin123)");
            }
        });

        // Register Handler
        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('regEmail').value;
            const user = document.getElementById('regUser').value;
            const pass = document.getElementById('regPass').value;
            const confirmPass = document.getElementById('regConfirmPass').value;

            if (pass !== confirmPass) {
                alert("Passwords do not match!");
                return;
            }

            // Check Username
            if (usersDB[user]) {
                alert("Username tidak tersedia");
                return;
            }

            // Check Email
            const emailExists = Object.values(usersDB).some(u => u.email === email);
            if (emailExists) {
                alert("Email sudah ada");
                return;
            }

            // Create account
            usersDB[user] = { pass: pass, email: email };

            alert(`Account created successfully for ${user}! You will be logged in automatically.`);

            // Auto login
            loginModal.classList.remove('active');
            showUser(user);
            registerForm.reset();
        });

        // -------------------------
        // LIVE CHAT SYSTEM LOGIC
        // -------------------------
        const chatModal2 = document.getElementById('chatModal');
        const closeChat = document.getElementById('closeChat');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const chatMessages = document.getElementById('chatMessages');
        const chatSidebar = document.getElementById('chatSidebar');
        const chatUserList = document.getElementById('chatUserList'); // New container for list
        const chatHeaderTitle = document.getElementById('chatHeaderTitle');
        const chatHeaderAvatar = document.getElementById('chatHeaderAvatar');
        const chatHeaderStatus = document.getElementById('chatHeaderStatus');
        const emptyState = document.getElementById('emptyState');
        const adminStatusText = document.getElementById('adminStatusText');

        // Chat Data Structure
        const chatData = {
            // 'username': { messages: [{text: '', sender: 'user'|'admin', time: '', read: false}], unread: 0, avatar: 'A' }
        };

        let currentChatUser = null; // For admin to know who they are talking to
        let currentUserSession = null; // The logged in user (from showUser)

        // Live Chat Button Click
        chatBtn.addEventListener('click', function () {
            if (!isLoggedIn) {
                alert("Please Login or Create an Account to use Live Chat.");
                toggleAuthMode('login');
                loginModal.classList.add('active');
                return;
            }
            openChatInterface();
        });

        closeChat.addEventListener('click', () => {
            chatModal2.classList.remove('active');
        });

        function openChatInterface() {
            chatModal2.classList.add('active');

            // Layout Adjustments based on Role
            if (currentUserSession === 'admin') {
                // ADMIN VIEW: Sidebar visible, Main chat waits for selection
                chatSidebar.style.display = 'flex'; // Show sidebar
                chatSidebar.style.width = '320px';
                adminStatusText.textContent = 'Admin Dashboard';

                renderAdminSidebar(); // Load contact list

                if (currentChatUser) {
                    loadChatMessages(currentChatUser);
                } else {
                    // Reset to empty state logic
                    chatHeaderTitle.textContent = "Welcome Admin";
                    chatHeaderStatus.textContent = "Select a chat";
                    chatHeaderAvatar.textContent = "A"; // Default
                    chatMessages.innerHTML = "";
                    chatMessages.appendChild(emptyState);
                }
            } else {
                // USER VIEW: Sidebar Hidden (or maybe just a simplistic header)
                // For a 2-way look, we can hide the sidebar and just show the chat with 'Admin'
                chatSidebar.style.display = 'none';

                // Initialize user data if first time
                if (!chatData[currentUserSession]) {
                    chatData[currentUserSession] = { messages: [], unread: 0 };
                    // Welcome message
                    addMessageToData(currentUserSession, 'Hello! How can we help you today?', 'admin');
                }

                // Set context
                currentChatUser = currentUserSession;
                loadChatMessages(currentUserSession);
            }
        }

        function renderAdminSidebar() {
            chatUserList.innerHTML = '';

            const users = Object.keys(chatData);
            if (users.length === 0) {
                chatUserList.innerHTML = '<div style="padding:20px;color:#999;text-align:center;">No active chats</div>';
                return;
            }

            users.forEach(user => {
                const userData = chatData[user];
                const lastMsg = userData.messages.length > 0 ? userData.messages[userData.messages.length - 1] : null;

                const item = document.createElement('div');
                item.className = `user-list-item ${currentChatUser === user ? 'active' : ''}`;

                let preview = lastMsg ? lastMsg.text : 'No messages';
                if (preview.length > 25) preview = preview.substring(0, 25) + '...';
                const time = lastMsg ? lastMsg.time : '';

                // Avatar simulation
                const firstLetter = user.charAt(0).toUpperCase();

                item.innerHTML = `
                    <div class="user-avatar-small">${firstLetter}</div>
                    <div class="user-item-info">
                        <div style="display:flex;justify-content:space-between;">
                            <h4>${user}</h4>
                            <span style="font-size:11px;color:#888;">${time}</span>
                        </div>
                        <div style="display:flex;justify-content:space-between;align-items:center;">
                            <p>${preview}</p>
                            ${userData.unread > 0 ? `<div class="badge-count">${userData.unread}</div>` : ''}
                        </div>
                    </div>
                `;

                item.addEventListener('click', () => {
                    currentChatUser = user;
                    // Mark as read
                    if (userData.unread > 0) {
                        userData.messages.forEach(m => {
                            if (m.sender === 'user') m.read = true;
                        });
                        userData.unread = 0;
                    }
                    renderAdminSidebar(); // Update badges visually immediately
                    loadChatMessages(user);
                });

                chatUserList.appendChild(item);
            });
        }

        function loadChatMessages(user) {
            chatMessages.innerHTML = '';
            const messages = chatData[user].messages;

            // Set Header Info
            if (currentUserSession === 'admin') {
                chatHeaderTitle.textContent = user;
                chatHeaderStatus.textContent = 'User • Online';
                chatHeaderAvatar.textContent = user.charAt(0).toUpperCase();
                chatHeaderAvatar.style.background = "var(--navy)";
            } else {
                chatHeaderTitle.textContent = "Customer Service";
                chatHeaderStatus.textContent = 'Support • Online';
                chatHeaderAvatar.textContent = "CS";
                chatHeaderAvatar.style.background = "#2e89ff";
            }

            if (messages.length === 0) {
                chatMessages.appendChild(emptyState);
                return;
            }

            // Date separator logic can be added here

            messages.forEach(msg => {
                const div = document.createElement('div');
                let type = '';

                if (currentUserSession === 'admin') {
                    // Admin sees their own msgs (admin) as 'sent'
                    type = msg.sender === 'admin' ? 'sent' : 'received';
                } else {
                    // User sees their own msgs (user) as 'sent'
                    type = msg.sender === 'user' ? 'sent' : 'received';
                }

                div.className = `message ${type}`;

                // Read receipt HTML
                let readReceiptHtml = '';
                if (type === 'sent') {
                    // If msg is read, show blue double tick, else gray
                    const color = msg.read ? '#53bdeb' : '#999';
                    readReceiptHtml = `<span class="read-status"><i class="fas fa-check-double" style="color:${color};font-size:10px;"></i></span>`;
                }

                div.innerHTML = `
                    ${msg.text}
                    <span class="message-time">
                        ${msg.time} 
                        ${readReceiptHtml}
                    </span>
                `;
                chatMessages.appendChild(div);
            });

            // Auto scroll
            setTimeout(() => {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 50);
        }

        function sendMessage() {
            const text = chatInput.value.trim();
            if (!text || !currentChatUser) return;

            const sender = currentUserSession === 'admin' ? 'admin' : 'user';

            addMessageToData(currentChatUser, text, sender);

            // Clear & Update
            chatInput.value = '';

            if (currentUserSession === 'admin') {
                loadChatMessages(currentChatUser);
                renderAdminSidebar(); // Move user to top or update preview
            } else {
                loadChatMessages(currentUserSession);
            }
        }

        function addMessageToData(username, text, sender) {
            if (!chatData[username]) {
                chatData[username] = { messages: [], unread: 0 };
            }

            const now = new Date();
            const timeString = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');

            chatData[username].messages.push({
                text: text,
                sender: sender,
                time: timeString,
                read: false
            });

            if (sender === 'user') {
                // User sent msg
                // If Admin is NOT currently looking at this user, unread++
                // A simplified logic for this single-client simulation: always ++ unless admin receives it instantaneously in same session logic
                // But since it's a simulation, let's increment only if current session is NOT admin focusing on this user
                // Actually for simulation to show badge, always increment then clear if viewed
                chatData[username].unread++;
            } else {
                // Admin sent msg. All checks read.
                chatData[username].messages.forEach(m => { if (m.sender === 'user') m.read = true; });
                chatData[username].unread = 0;
            }
        }

        sendBtn.addEventListener('click', sendMessage);

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Input styling specific for sending
        chatInput.addEventListener('input', function () {
            if (this.value.trim()) sendBtn.classList.add('active');
            else sendBtn.classList.remove('active');
        });

        function showUser(name) {
            isLoggedIn = true;
            currentUserSession = name; // Store specific session

            const displayName = name === 'admin' ? 'Logout (Admin)' : (name === 'Guest' ? 'Logout (Guest)' : `Logout (${name})`);
            navLoginBtn.textContent = displayName;
            navLoginBtn.style.color = 'var(--accent)';

            // Force create data entry for Guest so Admin can see them
            if (!chatData[name] && name !== 'admin') {
                // Optional: Dont create until they open chat
            }
        }

        window.logout = function () {
            isLoggedIn = false;
            currentUserSession = null;
            currentChatUser = null;

            navLoginBtn.textContent = 'Login';
            navLoginBtn.style.color = '';

            chatModal2.classList.remove('active');
            alert("You have been logged out.");
        }

        // Newsletter Form Submission
        const newsletterForm = document.querySelector('.newsletter-form');
        newsletterForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const emailInput = this.querySelector('.newsletter-input');
            const email = emailInput.value;

            if (email) {
                alert(`Thank you! Email ${email} has successfully registered to receive the Compass® newsletter.`);
                emailInput.value = '';
            }
        });

        // Search Box Interaction
        const searchBox = document.querySelector('.search-box');
        const galleryItems = document.querySelectorAll('.gallery-item');
        const gallerySection = document.getElementById('gallery');
        const galleryGrid = document.querySelector('.gallery-grid');

        // Create No Results Message element
        const noResultsMsg = document.createElement('div');
        noResultsMsg.className = 'no-results';
        noResultsMsg.style.textAlign = 'center';
        noResultsMsg.style.width = '100%';
        noResultsMsg.style.padding = '40px';
        noResultsMsg.style.gridColumn = '1 / -1';
        noResultsMsg.style.display = 'none';
        noResultsMsg.style.color = 'var(--medium-gray)';
        noResultsMsg.innerHTML = '<i class="fas fa-search" style="font-size: 48px; margin-bottom: 20px; display: block;"></i><h3>No products found</h3><p>Try different keywords or check spelling</p>';
        galleryGrid.appendChild(noResultsMsg);

        function performSearch() {
            const query = searchBox.value.toLowerCase().trim();
            let hasResults = false;

            // Scroll to gallery if searching and not empty
            if (query.length > 0 && window.scrollY < gallerySection.offsetTop - 150) {
                window.scrollTo({
                    top: gallerySection.offsetTop - 100,
                    behavior: 'smooth'
                });
            }

            galleryItems.forEach(item => {
                const title = item.querySelector('h4').textContent.toLowerCase();
                const description = item.querySelector('p').textContent.toLowerCase();

                if (title.includes(query) || description.includes(query)) {
                    item.style.display = 'block';
                    // Add simple animation for appearing items
                    item.style.animation = 'fadeIn 0.5s ease forwards';
                    hasResults = true;
                } else {
                    item.style.display = 'none';
                }
            });

            // Show no results message
            noResultsMsg.style.display = hasResults ? 'none' : 'block';
        }

        // Search on typing (real-time)
        searchBox.addEventListener('input', performSearch);

        // Search on Enter key
        searchBox.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                performSearch();
                // Ensure we scroll to gallery to see results
                window.scrollTo({
                    top: gallerySection.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        });


    </script>
</body>

</html>
